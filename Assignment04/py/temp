Skip to content
Enterprise
Search or jump to…

Pull requests
Issues
Explore
 
@dnagre 
Learn Git and GitHub without any code!
Using the Hello World guide, you’ll start a branch, write comments, and open a pull request.


SICE-Networks
/
Net-Fall20
6
0
10
 Code
 Issues 0
 Pull requests 0
 Projects 0
 Wiki
 Insights
Net-Fall20/04_rudp/README.org
@jemusser jemusser Update README.org
33a13f4 9 hours ago
132 lines (99 sloc)  8.5 KB
  
Reliable UDP (Part 1)
This is part 1 of 2. Part 2 is here.

Instructions
The purpose of this assignment is to extend your netster code so that it supports reliable network communication over UDP - Reliable UDP (RUDP)! You already implemented an application protocol over TCP and UDP and you will now have an opportunity to test your existing code over an unreliable network. Once the limitations of UDP over an unreliable channel become clear you should feel motivated to solve the issue at hand with your own RUDP implementation.

This assignment requires both careful planning and likely several iterations of your design before it meets the specifications put forth in the tasks below. You will have more time to complete this assignment, but be sure to start early and begin experimenting with a lossy network to understand how things work. Good luck!

Emulating your local coffee shop’s free public Wi-Fi
On a Linux machine where you have sudo privileges, you can emulate a lossy network using tc (traffic control) and netem (network emulator).

tc allows a user to simulate network properties on linux machines; properties such as latency and packet loss rates. These properties can be restricted to specific TCP/UDP ports. This is the approach you will use in this assignment to test your rudp implementation.

# emulate latency and loss on certain port ranges
declare -x LAT="25ms"
declare -x iface="lo"
declare -x DMASK=0xff00

declare -x ID=2
declare -x LOSS=0
declare -x DPORT=2048
sudo tc qdisc add dev $iface root handle 1: htb
sudo tc class add dev $iface parent 1: classid 1:1 htb rate 10000Mbps
sudo tc class add dev $iface parent 1:1 classid 1:${ID} htb rate 10000Mbps
sudo tc qdisc add dev $iface parent 1:${ID} handle ${ID}0: netem delay $LAT loss $LOSS limit 10000
sudo tc filter add dev $iface parent 1:0 protocol ip u32 match ip dport $DPORT $DMASK flowid 1:${ID}

declare -x ID=3
declare -x LOSS=1
declare -x DPORT=4096
sudo tc class add dev $iface parent 1:1 classid 1:${ID} htb rate 10000Mbps
sudo tc qdisc add dev $iface parent 1:${ID} handle ${ID}0: netem delay $LAT loss $LOSS limit 10000
sudo tc filter add dev $iface parent 1:0 protocol ip u32 match ip dport $DPORT $DMASK flowid 1:${ID}

declare -x ID=4
declare -x LOSS=30
declare -x DPORT=8192
sudo tc class add dev $iface parent 1:1 classid 1:${ID} htb rate 10000Mbps
sudo tc qdisc add dev $iface parent 1:${ID} handle ${ID}0: netem delay $LAT loss $LOSS limit 10000
sudo tc filter add dev $iface parent 1:0 protocol ip u32 match ip dport $DPORT $DMASK flowid 1:${ID}
Using these recipes, your development environment will now have special port ranges with bad performance:

dst port range	latency	loss
2048-2304	25ms	0%
4096-4352	25ms	1%
8192-8448	25ms	30%
To remove these settings, use the following:

declare -x iface="lo"
sudo tc qdisc del dev $iface root
How to develop and test with packet loss and delay
Other ports (not within the ranges described in the table above) are normal, with no added latency or loss behavior.
The test ports add 25ms latency in both directions, or 50ms round-trip-time (RTT).
You can observe the impact of 30% loss across the network with two terminals.

Server terminal:

server$ ./netster -u -p 8199
<...missing lots of input from the client...>
Client terminal:

client$ ./netster -u -p 8199 localhost
Hello, I am a client
send a message: <...type lots of input...>
<...missing lots of responses from the server...>
Task 1 - Extend netster to transfer file data
You should extend netster so that you can transfer file data from client to server. In addition to infrequent request/response messages from the previous assignment, you will now need to send lots of data at once and stress the underlying network. Reading from a file and transfering its contents over the network meets that criteria. Having the netster server save the file also lets you check if your RUDP design is working correctly. Obviously, the received and saved file should be a bit-wise duplicate of the source file sent by the netster client when transfered with a working RUDP design.

The netster skeleton code has a command line argument (-f) to specify a filename, and should read the file if started as a client, or write the file if started as a server.

With an open file handle available when the -f option if given, you will use the file I/O methods in your given programming language to read and write file data. For example, fread() and fwrite() in C, or f.read() and f.write() in Python3. It is your job to move file data between the file handle and the network socket using an intermediate buffer. Performance is not a primary concern here, so copying in and out of a user space buffer is perfectly fine. When segmenting the file into UDP frames, restrict each packet to less than a single MTU (1500 bytes for the purposes of this assignment). In practical terms, this means limiting the send size to approx. 1024 bytes.

Task 2 - Implement alternating bit, stop-and-wait protocol
You will implement a stop-and-wait protocol (i.e. alternating bit protocol), called rdt3.0 in the book and slides.

Since you implemented the UDP client/server in the previous assignment, you already have experience with a similar unreliable channel interface (i.e. udt_send() and udt_recv() from rdt3.0). You must now implement the rdt_send() and rdt_rcv() interface that your client and server will use when running in RUDP mode. In other words, your rdt_ methods should provide the reliable service for the calling application and use the underlying UDP sendto() and recvfrom() methods to access the unreliable channel.

There are a number of ways to implement this task correctly; however, there are a few key features and assumptions you can count on:

You must introduce a new RUDP header that encapsulates the application data sent in via rdt_send(). This should include fields to support sequence numbers, message type (ACK, NACK, etc.), and potentially other fields like length.
You will need a countdown timer.
You may assume unidirectional data transfer (e.g. client -> server). You can make changes in your netster application code to ensure unidirectional flow (e.g. file transfer) and also to pace how often data is sent into your RUDP interface for debugging purposes.
You may use both ACK and NACK control messages instead of duplicate ACKs.
You may assume only a single client RUDP session at a time.
You may assume that UDP handles the checksum error detection for you. Your implementation should treat any potentially corrupt packets the same as if they were simply lost.
Your strategy for state management and handling control messages is up to you. The rdt3.0 state machines from the book and slides may be guides but the expectation is that many different implementations should arise from this assignment.

TO SUBMIT
Write well-documented and well-formatted code in your a3 and netster files for Tasks 1 and 2.
Commit and push your changes to your Net-Fall20 github.iu.edu repository.
Submit to Canvas a URL for your repository containing a commit hash. To find this url, go to your Net-Fall20 repository’s commits endpoint, and choose one specific commit for your teachers to grade.
./images/out.gif

Your URL should look similar to this:

https://github.iu.edu/username/Net-Fall20/commit/00a3e8fc1e0f2bad388a9f138be1e909eef25eb4
Replace username with your username, and replace 00a3e8fc1e0f2bad388a9f138be1e909eef25eb4 with the commit hash of your chosen commit.

You can find this same commit hash by running the command git log from your terminal, after changing directory to your repository folder.

© 2020 GitHub, Inc.
Help
Support
API
Training
Blog
About
GitHub Enterprise Server 2.21.6



Origins
The earliest suggestion of unusual disappearances in the Bermuda area appeared in a September 17, 1950, article published in The Miami Herald (Associated Press)[4] by Edward Van Winkle Jones.[5] Two years later, Fate magazine published "Sea Mystery at Our Back Door",[6][7] a short article by George Sand covering the loss of several planes and ships, including the loss of Flight 19, a group of five US Navy Grumman TBM Avenger torpedo bombers on a training mission. Sand's article was the first to lay out the now-familiar triangular area where the losses took place, as well as the first to suggest a supernatural element to the Flight 19 incident. Flight 19 alone would be covered again in the April 1962 issue of American Legion magazine.[8] In it, author Allan W. Eckert wrote that the flight leader had been heard saying, "We are entering white water, nothing seems right. We don't know where we are, the water is green, no white." He also wrote that officials at the Navy board of inquiry stated that the planes "flew off to Mars."[9]

In February 1964, Vincent Gaddis wrote an article called "The Deadly Bermuda Triangle" in the pulp magazine Argosy saying Flight 19 and other disappearances were part of a pattern of strange events in the region.[10] The next year, Gaddis expanded this article into a book, Invisible Horizons.[11]

Other writers elaborated on Gaddis' ideas: John Wallace Spencer (Limbo of the Lost, 1969, repr. 1973);[12] Charles Berlitz (The Bermuda Triangle, 1974);[13] Richard Winer (The Devil's Triangle, 1974),[14] and many others, all keeping to some of the same supernatural elements outlined by Eckert.[15]

Triangle area
The Gaddis Argosy article delineated the boundaries of the triangle,[10] giving its vertices as Miami; San Juan, Puerto Rico; and Bermuda. Subsequent writers did not necessarily follow this definition.[16] Some writers gave different boundaries and vertices to the triangle, with the total area varying from 1,300,000 to 3,900,000 km2 (500,000 to 1,510,000 sq mi).[16] "Indeed, some writers even stretch it as far as the Irish coast."[2] Consequently, the determination of which accidents occurred inside the triangle depends on which writer reported them.[16]

Criticism of the concept
Larry Kusche
Larry Kusche, author of The Bermuda Triangle Mystery: Solved (1975)[1] argued that many claims of Gaddis and subsequent writers were exaggerated, dubious or unverifiable. Kusche's research revealed a number of inaccuracies and inconsistencies between Berlitz's accounts and statements from eyewitnesses, participants, and others involved in the initial incidents. Kusche noted cases where pertinent information went unreported, such as the disappearance of round-the-world yachtsman Donald Crowhurst, which Berlitz had presented as a mystery, despite clear evidence to the contrary. Another example was the ore-carrier recounted by Berlitz as lost without trace three days out of an Atlantic port when it had been lost three days out of a port with the same name in the Pacific Ocean. Kusche also argued that a large percentage of the incidents that sparked allegations of the Triangle's mysterious influence actually occurred well outside it. Often his research was simple: he would review period newspapers of the dates of reported incidents and find reports on possibly relevant events like unusual weather, that were never mentioned in the disappearance stories.

Kusche concluded that:

The number of ships and aircraft reported missing in the area was not significantly greater, proportionally speaking, than in any other part of the ocean.
In an area frequented by tropical cyclones, the number of disappearances that did occur were, for the most part, neither disproportionate, unlikely, nor mysterious.
Furthermore, Berlitz and other writers would often fail to mention such storms or even represent the disappearance as having happened in calm conditions when meteorological records clearly contradict this.
The numbers themselves had been exaggerated by sloppy research. A boat's disappearance, for example, would be reported, but its eventual (if belated) return to port may not have been.
Some disappearances had, in fact, never happened. One plane crash was said to have taken place in 1937, off Daytona Beach, Florida, in front of hundreds of witnesses; a check of the local papers revealed nothing.[citation needed]
The legend of the Bermuda Triangle is a manufactured mystery, perpetuated by writers who either purposely or unknowingly made use of misconceptions, faulty reasoning, and sensationalism.[1]
In a 2013 study, the World Wide Fund for Nature identified the world's 10 most dangerous waters for shipping, but the Bermuda Triangle was not among them.[17][18]

Further responses
When the UK Channel 4 television program The Bermuda Triangle (1992)[19] was being produced by John Simmons of Geofilms for the Equinox series, the marine insurance market Lloyd's of London was asked if an unusually large number of ships had sunk in the Bermuda Triangle area. Lloyd's determined that large numbers of ships had not sunk there.[3] Lloyd's does not charge higher rates for passing through this area. United States Coast Guard records confirm their conclusion. In fact, the number of supposed disappearances is relatively insignificant considering the number of ships and aircraft that pass through on a regular basis.[1]

The Coast Guard is also officially skeptical of the Triangle, noting that they collect and publish, through their inquiries, much documentation contradicting many of the incidents written about by the Triangle authors. In one such incident involving the 1972 explosion and sinking of the tanker V. A. Fogg, the Coast Guard photographed the wreck and recovered several bodies,[20] in contrast with one Triangle author's claim that all the bodies had vanished, with the exception of the captain, who was found sitting in his cabin at his desk, clutching a coffee cup.[12] In addition, V. A. Fogg sank off the coast of Texas, nowhere near the commonly accepted boundaries of the Triangle.

The Nova/Horizon episode The Case of the Bermuda Triangle, aired on June 27, 1976, was highly critical, stating that "When we've gone back to the original sources or the people involved, the mystery evaporates. Science does not have to answer questions about the Triangle because those questions are not valid in the first place ... Ships and planes behave in the Triangle the same way they behave everywhere else in the world."[2]

Skeptical researchers, such as Ernest Taves[21] and Barry Singer,[22] have noted how mysteries and the paranormal are very popular and profitable. This has led to the production of vast amounts of material on topics such as the Bermuda Triangle. They were able to show that some of the pro-paranormal material is often misleading or inaccurate, but its producers continue to market it. Accordingly, they have claimed that the market is biased in favor of books, TV specials, and other media that support the Triangle mystery, and against well-researched material if it espouses a skeptical viewpoint.

Benjamin Radford, an author and scientific paranormal investigator, noted in an interview on the Bermuda Triangle that it could be very difficult locating an aircraft lost at sea due to the vast search area, and although the disappearance might be mysterious, that did not make it paranormal or unexplainable. Radford further noted the importance of double-checking information as the mystery surrounding the Bermuda Triangle had been created by people who had neglected to do so.[23]

Hypothetical explanation attempts
Persons accepting the Bermuda Triangle as a real phenomenon have offered a number of explanatory approaches.

Paranormal explanations
Triangle writers have used a number of supernatural concepts to explain the events. One explanation pins the blame on leftover technology from the mythical lost continent of Atlantis. Sometimes connected to the Atlantis story is the submerged rock formation known as the Bimini Road off the island of Bimini in the Bahamas, which is in the Triangle by some definitions. Followers of the purported psychic Edgar Cayce take his prediction that evidence of Atlantis would be found in 1968, as referring to the discovery of the Bimini Road. Believers describe the formation as a road, wall, or other structure, but the Bimini Road is of natural origin.[24]

Other writers attribute the events to UFOs.[25][26] Charles Berlitz, author of various books on anomalous phenomena, lists several theories attributing the losses in the Triangle to anomalous or unexplained forces.[13]

Natural explanations
Compass variations
Compass problems are one of the cited phrases in many Triangle incidents. While some have theorized that unusual local magnetic anomalies may exist in the area,[27] such anomalies have not been found. Compasses have natural magnetic variations in relation to the magnetic poles, a fact which navigators have known for centuries. Magnetic (compass) north and geographic (true) north are exactly the same only for a small number of places – for example, as of 2000, in the United States, only those places on a line running from Wisconsin to the Gulf of Mexico.[28] But the public may not be as informed, and think there is something mysterious about a compass "changing" across an area as large as the Triangle, which it naturally will.[1]


False-color image of the Gulf Stream flowing north through the western Atlantic Ocean. (NASA)
Gulf Stream
The Gulf Stream is a major surface current, primarily driven by thermohaline circulation that originates in the Gulf of Mexico and then flows through the Straits of Florida into the North Atlantic. In essence, it is a river within an ocean, and, like a river, it can and does carry floating objects. It has a maximum surface velocity of about 2 m/s (6.6 ft/s).[29] A small plane making a water landing or a boat having engine trouble can be carried away from its reported position by the current.

Human error
One of the most cited explanations in official inquiries as to the loss of any aircraft or vessel is human error.[30] Human stubbornness may have caused businessman Harvey Conover to lose his sailing yacht, Revonoc, as he sailed into the teeth of a storm south of Florida on January 1, 1958.[31]

Violent weather
Hurricanes are powerful storms that form in tropical waters and have historically cost thousands of lives and caused billions of dollars in damage. The sinking of Francisco de Bobadilla's Spanish fleet in 1502 was the first recorded instance of a destructive hurricane. These storms have in the past caused a number of incidents related to the Triangle.

A powerful downdraft of cold air was suspected to be a cause in the sinking of Pride of Baltimore on May 14, 1986. The crew of the sunken vessel noted the wind suddenly shifted and increased velocity from 32 km/h (20 mph) to 97–145 km/h (60–90 mph). A National Hurricane Center satellite specialist, James Lushine, stated "during very unstable weather conditions the downburst of cold air from aloft can hit the surface like a bomb, exploding outward like a giant squall line of wind and water."[32] A similar event occurred to Concordia in 2010, off the coast of Brazil. Scientists are currently investigating whether "hexagonal" clouds may be the source of these up-to-170 mph (270 km/h) "air bombs".[33]

Methane hydrates
Main article: Methane clathrate

Worldwide distribution of confirmed or inferred offshore gas hydrate-bearing sediments, 1996.
Source: United States Geological Survey
An explanation for some of the disappearances has focused on the presence of large fields of methane hydrates (a form of natural gas) on the continental shelves.[34] Laboratory experiments carried out in Australia have proven that bubbles can, indeed, sink a scale model ship by decreasing the density of the water;[35][36][37] any wreckage consequently rising to the surface would be rapidly dispersed by the Gulf Stream. It has been hypothesized that periodic methane eruptions (sometimes called "mud volcanoes") may produce regions of frothy water that are no longer capable of providing adequate buoyancy for ships. If this were the case, such an area forming around a ship could cause it to sink very rapidly and without warning.

Publications by the USGS describe large stores of undersea hydrates worldwide, including the Blake Ridge area, off the coast of the southeastern United States.[38] However, according to the USGS, no large releases of gas hydrates are believed to have occurred in the Bermuda Triangle for the past 15,000 years.[3]


Lake salinity
The water levels and salinity of the successive lakes (Amora, Lisan, Dead Sea) have either risen or fallen as an effect of the tectonic dropping of the valley bottom, and due to climate variation. As the climate became more arid, Lake Lisan finally shrank and became saltier, leaving the Dead Sea as its last remainder.[19][20]

From 70,000 to 12,000 years ago, Lake Lisan's level was 100 m (330 ft) to 250 m (820 ft) higher than its current level. Its level fluctuated dramatically, rising to its highest level around 26,000 years ago, indicating a very wet climate in the Near East.[22] Around 10,000 years ago, the lake's level dropped dramatically, probably even lower than today. During the last several thousand years, the lake has fluctuated approximately 400 m (1,300 ft), with some significant drops and rises. Current theories as to the cause of this dramatic drop in levels rule out volcanic activity; therefore, it may have been a seismic event.

Salt mounts formation
In prehistoric times[dubious – discuss], great amounts of sediment collected on the floor of Lake Amora. The sediment was heavier than the salt deposits and squeezed the salt deposits upwards into what are now the Lisan Peninsula and Mount Sodom (on the southwest side of the lake). Geologists explain the effect in terms of a bucket of mud into which a large flat stone is placed, forcing the mud to creep up the sides of the bucket. When the floor of the Dead Sea dropped further due to tectonic forces, the salt mounts of Lisan and Mount Sodom stayed in place as high cliffs (see salt dome).

Climate
The Dead Sea has a hot desert climate (Köppen climate classification BWh), with year-round sunny skies and dry air. It has less than 50 millimetres (2 in) mean annual rainfall and a summer average temperature between 32 and 39 °C (90 and 102 °F). Winter average temperatures range between 20 and 23 °C (68 and 73 °F). The region has weaker ultraviolet radiation, particularly the UVB (erythrogenic rays). Given the higher atmospheric pressure, the air has a slightly higher oxygen content (3.3% in summer to 4.8% in winter) as compared to oxygen concentration at sea level.[23][24] Barometric pressures at the Dead Sea were measured between 1061 and 1065 hPa and clinically compared with health effects at higher altitude.[25] (This barometric measure is about 5% higher than sea level standard atmospheric pressure of 1013.25 hPa, which is the global ocean mean or ATM.) The Dead Sea affects temperatures nearby because of the moderating effect a large body of water has on climate. During the winter, sea temperatures tend to be higher than land temperatures, and vice versa during the summer months. This is the result of the water's mass and specific heat capacity. On average, there are 192 days above 30 °C (86 °F) annually.[26]

Climate data for Dead Sea, Sedom (390 m below sea level)
Month	Jan	Feb	Mar	Apr	May	Jun	Jul	Aug	Sep	Oct	Nov	Dec	Year
Record high °C (°F)	26.4
(79.5)	30.4
(86.7)	33.8
(92.8)	42.5
(108.5)	45.0
(113.0)	46.4
(115.5)	47.0
(116.6)	44.5
(112.1)	43.6
(110.5)	40.0
(104.0)	35.0
(95.0)	28.5
(83.3)	47.0
(116.6)
Average high °C (°F)	20.5
(68.9)	21.7
(71.1)	24.8
(76.6)	29.9
(85.8)	34.1
(93.4)	37.6
(99.7)	39.7
(103.5)	39.0
(102.2)	36.5
(97.7)	32.4
(90.3)	26.9
(80.4)	21.7
(71.1)	30.4
(86.7)
Daily mean °C (°F)	16.6
(61.9)	17.7
(63.9)	20.8
(69.4)	25.4
(77.7)	29.4
(84.9)	32.6
(90.7)	34.7
(94.5)	34.5
(94.1)	32.4
(90.3)	28.6
(83.5)	23.1
(73.6)	17.9
(64.2)	26.1
(79.0)
Average low °C (°F)	12.7
(54.9)	13.7
(56.7)	16.7
(62.1)	20.9
(69.6)	24.7
(76.5)	27.6
(81.7)	29.6
(85.3)	29.9
(85.8)	28.3
(82.9)	24.7
(76.5)	19.3
(66.7)	14.1
(57.4)	21.9
(71.4)
Record low °C (°F)	5.4
(41.7)	6.0
(42.8)	8.0
(46.4)	11.5
(52.7)	19.0
(66.2)	23.0
(73.4)	26.0
(78.8)	26.8
(80.2)	24.2
